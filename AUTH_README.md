# 验证功能说明

## 功能概述

已为导航平台添加了身份验证功能，只有通过验证的用户才能进行数据的增删改操作。

## 配置说明

### 环境变量

在 `.env` 文件中添加以下配置：

```env
# 管理员密码（必填，用于登录验证）
ADMIN_PASSWORD=your_secure_password_here

# Session密钥（可选，用于加密session，生产环境建议设置）
SESSION_SECRET=your_session_secret_key_here
```

**重要提示：**
- `ADMIN_PASSWORD` 是登录时需要的密码，请设置一个强密码
- 如果不设置 `ADMIN_PASSWORD`，默认密码为 `admin123`（仅用于开发环境）
- 生产环境请务必设置 `SESSION_SECRET` 以确保安全性

## 使用方法

### 1. 安装依赖

```bash
npm install
```

### 2. 启动服务

```bash
npm start
```

### 3. 登录验证

1. 点击页面右上角的"登录"按钮（桌面端）或移动端导航栏的锁图标
2. 输入管理员密码
3. 点击"登录"按钮

### 4. 操作权限

- **未登录状态**：只能查看导航数据，无法添加或删除
- **已登录状态**：可以进行所有操作（添加、删除链接）

### 5. 登出

点击已登录状态的登录按钮（显示"已登录"）即可登出。

## 功能特性

- ✅ 基于Session的身份验证
- ✅ 密码保护增删改操作
- ✅ 自动检查验证状态
- ✅ 友好的登录界面
- ✅ 移动端和桌面端适配
- ✅ 验证状态持久化（24小时有效期）

## 安全说明

1. **密码安全**：请使用强密码，建议包含大小写字母、数字和特殊字符
2. **HTTPS**：生产环境建议使用HTTPS以确保session安全
3. **Session过期**：Session有效期为24小时，过期后需要重新登录
4. **环境变量**：请勿将 `.env` 文件提交到版本控制系统

## API端点

- `POST /api/auth/login` - 登录
- `POST /api/auth/logout` - 登出
- `GET /api/auth/status` - 检查验证状态
- `POST /api/links` - 添加链接（需要验证）
- `DELETE /api/links/:id` - 删除链接（需要验证）

## 注意事项

- 验证功能不影响数据查看，所有用户都可以正常浏览导航数据
- 只有增删改操作需要验证
- 如果session过期，系统会自动提示重新登录

